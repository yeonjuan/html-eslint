
<script locals>
  module.exports = {
    projectNavs: locals.navs.project,
    bestPracticeNavs: locals.navs.bestPractice,
    seoNavs: locals.navs.seo,
    accssibilityNavs: locals.navs.accssibility,
    styleNavs: locals.navs.style
  }
</script>
<button type="button" id="nav-open-btn" class="fixed p-2 top-[64px] right-[4px] ml-auto inline-block bg-slate-200 rounded bg-opacity-70" aria-label="menu">
    <svg width="24" height="24">
        <path d="M5 6h14M5 12h14M5 18h14" fill="black" stroke="#000" stroke-width="2" stroke-linecap="round">
        </path>
    </svg>
</button>
<nav
    id="nav"
    class="fixed flex flex-col text-base top-[60px] h-[calc(100%-60px)] right-0 z-20 w-[256px] overflow-y-auto transition-all duration-500 transform translate-x-full bg-white shadow-lg md:flex md:translate-x-0"
>
    <div class="flex flex-col justify-center pr-4 pt-4 md:hidden">
        <button type="button" id="nav-close-btn" class="ml-auto w-[24px] h-[24px]">
            <img src="~/src/assets/icon-close.svg" alt="">
        </button>
    </div>

    <ul class="bg-white pl-4 pb-6">
        <li>
            <module
                href="/components/nav-list.html"
                locals='{ "id": "project-nav", "list": {{projectNavs}} }'>
                <h4 class="font-semibold py-2 text-base">
                    Docs
                </h4>
            </module>
        </li>
        <li>
            <h4 class="font-semibold py-2 text-base">
                Rules
            </h4>
            <ul class="[&>li>h5]:py-1 [&>li]:ml-1">
                <li class="hover:border-slate-800  cursor-pointer [&>a]:text-slate-700 [&>a]:hover:text-slate-900">
                    <a href="~/src/docs/rules.html" class="w-full no-underline">All Rules</a>
                </li>
                <li>
                    <module
                        href="/components/nav-list.html"
                        locals='{ "id": "best-practice-nav", "list": {{bestPracticeNavs}} }'>
                        <h5 class="font-semibold text-base">
                            Best Practice
                        </h5>
                    </module>
                </li>
                <li>
                    <module
                        href="/components/nav-list.html"
                        locals='{ "id": "seo-nav", "list": {{seoNavs}} }'>
                        <h5 class="font-semibold text-base">
                            SEO
                        </h5>
                    </module>
                </li>
                <li>
                    <module
                        href="/components/nav-list.html"
                        locals='{ "id": "accesibility-nav", "list": {{accssibilityNavs}} }'>
                        <h5 class="font-semibold text-base">
                            Accesibility
                        </h5>
                    </module>
                </li>
                <li>
                    <module
                        href="/components/nav-list.html"
                        locals='{ "id": "style-nav", "list": {{styleNavs}} }'>
                        <h5 class="font-semibold text-base">
                            Style
                        </h5>
                    </module>
                </li>
            </ul>
        </li>
    </ul>
    <script>
      const $nav = document.getElementById('nav');
      const $anchors = $nav.querySelectorAll("li > a");
      const $navOverlay = document.getElementById('nav-overlay');
  
      $anchors.forEach(anchor => {
        if (new URL(anchor.href).pathname === window.location.pathname) {
          anchor.parentElement.classList.add('!border-slate-800', '!text-slate-900');
        }
      });

      const $navOpenBtn = document.getElementById('nav-open-btn');
      const $navCloseBtn = document.getElementById('nav-close-btn');

      function openNav() {
        $navOverlay.classList.remove('hidden');
        $nav.classList.remove("translate-x-full");
        document.body.classList.add("overflow-y-hidden");
      }

      function closeNav () {
        $navOverlay.classList.add('hidden');
        $nav.classList.add("translate-x-full");
        document.body.classList.remove("overflow-y-hidden");
      }

      $navOpenBtn.addEventListener('click',openNav);
      $navCloseBtn.addEventListener('click', closeNav);
      $navOverlay.addEventListener('click',closeNav);
    </script>
</nav>
